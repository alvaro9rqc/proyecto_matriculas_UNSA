{"swagger":"2.0","info":{"title":"","version":"0.0.1"},"host":"localhost:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/auth/callback/{provider}":{"get":{"tags":["oauth"],"summary":"callback oauth","description":"Handle OAuth callback and authenticate user","operationId":"oauth#callback","parameters":[{"name":"code","in":"query","description":"Authorization code","required":true,"type":"string","minLength":1},{"name":"state","in":"query","description":"Anti-CSRF state token","required":true,"type":"string","minLength":10},{"name":"ip_address","in":"query","description":"Client IP address","required":true,"type":"string","format":"ip"},{"name":"user_agent","in":"query","description":"User-Agent header value","required":true,"type":"string"},{"name":"provider","in":"path","description":"OAuth provider options","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/LoginResult","required":["access_token","expires_at"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/OauthCallbackInvalidTokenResponseBody"}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/OauthCallbackServerErrorResponseBody"}}},"schemes":["http"]}},"/auth/logout":{"post":{"tags":["oauth"],"summary":"logout oauth","description":"Terminate the current session and invalidate the token","operationId":"oauth#logout","parameters":[{"name":"Authorization","in":"header","description":"Session token to invalidate","required":true,"type":"string"}],"responses":{"204":{"description":"No Content response."},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/OauthLogoutUnauthorizedResponseBody"}}},"schemes":["http"]}},"/auth/redirect/{provider}":{"get":{"tags":["oauth"],"summary":"redirect oauth","description":"Generate a redirection URL for the chosen OAuth provider","operationId":"oauth#redirect","parameters":[{"name":"provider","in":"path","description":"OAuth provider options","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/OAuthRedirectResult","required":["redirect_url"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/OauthRedirectInvalidProviderResponseBody"}}},"schemes":["http"]}},"/courses":{"get":{"tags":["course"],"summary":"get_all_courses course","description":"Get all courses, only admin can use this method","operationId":"course#get_all_courses","parameters":[{"name":"get_all_courses_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/CourseGetAllCoursesRequestBody","required":["page","limit"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/Course"}}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/CourseGetAllCoursesBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/CourseGetAllCoursesUnAuthorizedResponseBody"}}},"schemes":["http"]}},"/courses/available":{"get":{"tags":["course"],"summary":"get_user_available_courses course","description":"Get all courses available for the user, only user can use this method","operationId":"course#get_user_available_courses","responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/Course"}}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/CourseGetUserAvailableCoursesBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/CourseGetUserAvailableCoursesUnAuthorizedResponseBody"}}},"schemes":["http"]}},"/courses/upload":{"post":{"tags":["course"],"summary":"upload_all_courses course","description":"Upload all courses from data of file, only admin can use this method","operationId":"course#upload_all_courses","parameters":[{"name":"upload_all_courses_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/UploadAllCoursesPayload","required":["courses"]}}],"responses":{"201":{"description":"Created response."},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/CourseUploadAllCoursesBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/CourseUploadAllCoursesUnAuthorizedResponseBody"}}},"schemes":["http"]}},"/enrollment/enroll":{"post":{"tags":["enrollment"],"summary":"enroll enrollment","description":"Enroll an student in selected courses","operationId":"enrollment#enroll","parameters":[{"name":"EnrollRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/EnrollmentPayload","required":["enrollCourses"]}}],"responses":{"201":{"description":"Created response."},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/EnrollmentEnrollBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/EnrollmentEnrollUnAuthorizedResponseBody"}}},"schemes":["http"]}},"/enrollment/enrollement_courses":{"post":{"tags":["enrollment"],"summary":"get_enrollment_courses enrollment","description":"Get all courses enrolled by an attendee","operationId":"enrollment#get_enrollment_courses","responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/EnrollmentPayload","required":["enrollCourses"]}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/EnrollmentGetEnrollmentCoursesBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/EnrollmentGetEnrollmentCoursesUnAuthorizedResponseBody"}}},"schemes":["http"]}}},"definitions":{"Course":{"title":"Course","type":"object","properties":{"cicle_number":{"type":"integer","description":"Cicle number of the course","example":1,"format":"int64","minimum":1},"credits":{"type":"integer","description":"Number of credits for the course","example":3,"format":"int64","minimum":1},"id":{"type":"string","description":"Unique identifier for the course","example":"144"},"name":{"type":"string","description":"Name of the course","example":"Introduction to Programming","minLength":1,"maxLength":128}},"description":"Course represents a course in the system","example":{"cicle_number":1,"credits":3,"id":"144","name":"Introduction to Programming"},"required":["id","name","credits","cicle_number"]},"CourseGetAllCoursesBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Invalid request (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"CourseGetAllCoursesRequestBody":{"title":"CourseGetAllCoursesRequestBody","type":"object","properties":{"limit":{"type":"integer","description":"Number of items per page","default":10,"example":8338341853780104743,"format":"int64","minimum":1},"page":{"type":"integer","description":"Page number for pagination","default":1,"example":7771999524557708999,"format":"int64","minimum":1}},"example":{"limit":6017851325904400788,"page":1555982206527852457},"required":["page","limit"]},"CourseGetAllCoursesUnAuthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Unauthorized access (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"CourseGetUserAvailableCoursesBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Invalid request (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"CourseGetUserAvailableCoursesUnAuthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Unauthorized access (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"CoursePayload":{"title":"CoursePayload","type":"object","properties":{"cicle_number":{"type":"integer","description":"Cicle number of the course","example":1,"format":"int64","minimum":1},"credits":{"type":"integer","description":"Number of credits for the course","example":3,"format":"int64","minimum":1},"name":{"type":"string","description":"Name of the course","example":"Introduction to Programming","minLength":1,"maxLength":128}},"description":"Payload for uploading a single course","example":{"cicle_number":1,"credits":3,"name":"Introduction to Programming"},"required":["name","credits","cicle_number"]},"CourseUploadAllCoursesBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Invalid request (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"CourseUploadAllCoursesUnAuthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Unauthorized access (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"EnrollCourseType":{"title":"EnrollCourseType","type":"object","properties":{"course_id":{"type":"integer","description":"Course ID","example":666587711,"format":"int32"},"id":{"type":"integer","description":"Enrollment ID","example":34650616,"format":"int32"},"program_id":{"type":"integer","description":"Program ID","example":241938286,"format":"int32"}},"description":"Represents a course enrollment","example":{"course_id":555465487,"id":1549691786,"program_id":199727884},"required":["id","course_id","program_id"]},"EnrollmentEnrollBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Invalid request (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"EnrollmentEnrollUnAuthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Unauthorized access (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"EnrollmentGetEnrollmentCoursesBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Invalid request (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"EnrollmentGetEnrollmentCoursesUnAuthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":false},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Unauthorized access (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"EnrollmentPayload":{"title":"EnrollmentPayload","type":"object","properties":{"enrollCourses":{"type":"array","items":{"$ref":"#/definitions/EnrollCourseType"},"description":"Attendee ID","example":[{"course_id":1304883946,"id":148943620,"program_id":1307531092},{"course_id":1304883946,"id":148943620,"program_id":1307531092}]}},"example":{"enrollCourses":[{"course_id":1304883946,"id":148943620,"program_id":1307531092},{"course_id":1304883946,"id":148943620,"program_id":1307531092},{"course_id":1304883946,"id":148943620,"program_id":1307531092},{"course_id":1304883946,"id":148943620,"program_id":1307531092}]},"required":["enrollCourses"]},"LoginResult":{"title":"LoginResult","type":"object","properties":{"access_token":{"type":"string","description":"Session access token","example":"Commodi numquam."},"expires_at":{"type":"string","description":"Access token expiration timestamp","example":"2010-10-06T23:33:47Z","format":"date-time"}},"example":{"access_token":"Eum nihil molestiae dolor voluptates debitis.","expires_at":"2003-06-30T03:38:29Z"},"required":["access_token","expires_at"]},"OAuthRedirectResult":{"title":"OAuthRedirectResult","type":"object","properties":{"redirect_url":{"type":"string","description":"OAuth authorization URL","example":"https://accounts.google.com/o/oauth2/auth?...code","format":"uri"}},"example":{"redirect_url":"https://accounts.google.com/o/oauth2/auth?...code"},"required":["redirect_url"]},"OauthCallbackInvalidTokenResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Invalid or expired OAuth token (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"OauthCallbackServerErrorResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Internal server error (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"OauthLogoutUnauthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Missing or invalid token (default view)","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout","fault"]},"OauthRedirectInvalidProviderResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Unsupported OAuth provider (default view)","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"UploadAllCoursesPayload":{"title":"UploadAllCoursesPayload","type":"object","properties":{"courses":{"type":"array","items":{"$ref":"#/definitions/CoursePayload"},"example":[{"cicle_number":1,"credits":3,"name":"Introduction to Programming"},{"cicle_number":1,"credits":3,"name":"Introduction to Programming"}]}},"example":{"courses":[{"cicle_number":1,"credits":3,"name":"Introduction to Programming"},{"cicle_number":1,"credits":3,"name":"Introduction to Programming"},{"cicle_number":1,"credits":3,"name":"Introduction to Programming"},{"cicle_number":1,"credits":3,"name":"Introduction to Programming"}]},"required":["courses"]}}}