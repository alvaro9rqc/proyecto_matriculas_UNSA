openapi: 3.0.3
info:
    title: Goa API
    version: 0.0.1
servers:
    - url: http://localhost:80
      description: Default server for course
paths:
    /auth/google/login:
        get:
            tags:
                - Auth
            summary: Google login Auth
            description: Initiates the Google OAuth 2.0 login flow by redirecting to the Google authorization endpoint.
            operationId: Auth#Google login
            responses:
                "307":
                    description: Temporary Redirect response.
    /auth/google/logout:
        get:
            tags:
                - Auth
            summary: Google logout Auth
            description: Logs the user out by clearing the session and redirecting to the appropriate post-logout URL.
            operationId: Auth#Google logout
            responses:
                "307":
                    description: Temporary Redirect response.
    /auth/me:
        get:
            tags:
                - Auth
            summary: Me Auth
            description: Returns information about the currently authenticated user.
            operationId: Auth#Me
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AccountUser'
                            example:
                                attendeeGroupName: Quis nobis dolor molestiae qui.
                                attendeeGroupPriority: Qui soluta voluptate pariatur et.
                                email: Harum eaque sed voluptatem adipisci expedita.
                                firstName: Consequatur debitis nobis.
                                id: Accusantium architecto nihil.
                                lastNames: Eos odio.
                                remainingNames: Ut incidunt commodi ut in.
                "401":
                    description: Unauthorized response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AccountUser'
                            example:
                                attendeeGroupName: Iure est.
                                attendeeGroupPriority: Recusandae itaque asperiores quia sit.
                                email: Natus similique iure adipisci nobis ut.
                                firstName: Libero fugiat corporis.
                                id: Porro illo fugit sed accusantium nulla.
                                lastNames: Praesentium omnis consectetur ipsum pariatur fuga placeat.
                                remainingNames: Nemo sed et eveniet.
    /courses:
        get:
            tags:
                - course
            summary: get_all_courses course
            description: Get all courses, only admin can use this method
            operationId: course#get_all_courses
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/GetAllCoursesRequestBody'
                        example:
                            limit: 5311961257852150556
                            page: 4362039140164176453
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Course'
                                example:
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                            example:
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /courses/available:
        get:
            tags:
                - course
            summary: get_user_available_courses course
            description: Get all courses available for the user, only user can use this method
            operationId: course#get_user_available_courses
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Course'
                                example:
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                            example:
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /courses/upload:
        post:
            tags:
                - course
            summary: upload_all_courses course
            description: Upload all courses from data of file, only admin can use this method
            operationId: course#upload_all_courses
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UploadAllCoursesPayload'
                        example:
                            courses:
                                - cicle_number: 1
                                  credits: 3
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  name: Introduction to Programming
            responses:
                "201":
                    description: Created response.
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /enrollment:
        post:
            tags:
                - enrollment
            summary: enroll enrollment
            description: Enroll an attendee in a course
            operationId: enrollment#enroll
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/EnrollmentPayload'
                        example:
                            attendee_id: 778384593
                            course_id: 795706758
                            passed: true
            responses:
                "201":
                    description: Created response.
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        put:
            tags:
                - enrollment
            summary: update_enrollment enrollment
            description: Update the enrollment status of an attendee in a course
            operationId: enrollment#update_enrollment
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateEnrollmentPayload'
                        example:
                            attendee_id: 480923202
                            course_id: 1669339732
                            passed: true
            responses:
                "200":
                    description: OK response.
                "404":
                    description: 'not_found: The resource was not found'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /enrollment/{attendee_id}/{course_id}:
        delete:
            tags:
                - enrollment
            summary: delete_enrollment enrollment
            description: Delete an attendee's enrollment from a course
            operationId: enrollment#delete_enrollment
            parameters:
                - name: attendee_id
                  in: path
                  description: Attendee ID
                  required: true
                  schema:
                    type: integer
                    description: Attendee ID
                    example: 2010083261
                    format: int32
                  example: 1156030421
                - name: course_id
                  in: path
                  description: Course ID
                  required: true
                  schema:
                    type: integer
                    description: Course ID
                    example: 1464463353
                    format: int32
                  example: 834704004
            responses:
                "204":
                    description: No Content response.
                "404":
                    description: 'not_found: The resource was not found'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /enrollment/course/{course_id}/users:
        get:
            tags:
                - enrollment
            summary: list_enrolled_users enrollment
            description: List enrolled users for a specific course
            operationId: enrollment#list_enrolled_users
            parameters:
                - name: course_id
                  in: path
                  description: Course ID
                  required: true
                  schema:
                    type: integer
                    description: Course ID
                    example: 1354363310
                    format: int32
                  example: 1309088000
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/EnrolledUser'
                                example:
                                    - email: neva_dubuque@beier.net
                                      first_name: Voluptatem omnis rerum quasi qui quod ut.
                                      last_names: Iusto maxime eaque.
                                      remaining_names: Consectetur quia.
                                    - email: neva_dubuque@beier.net
                                      first_name: Voluptatem omnis rerum quasi qui quod ut.
                                      last_names: Iusto maxime eaque.
                                      remaining_names: Consectetur quia.
                                    - email: neva_dubuque@beier.net
                                      first_name: Voluptatem omnis rerum quasi qui quod ut.
                                      last_names: Iusto maxime eaque.
                                      remaining_names: Consectetur quia.
                                    - email: neva_dubuque@beier.net
                                      first_name: Voluptatem omnis rerum quasi qui quod ut.
                                      last_names: Iusto maxime eaque.
                                      remaining_names: Consectetur quia.
                            example:
                                - email: neva_dubuque@beier.net
                                  first_name: Voluptatem omnis rerum quasi qui quod ut.
                                  last_names: Iusto maxime eaque.
                                  remaining_names: Consectetur quia.
                                - email: neva_dubuque@beier.net
                                  first_name: Voluptatem omnis rerum quasi qui quod ut.
                                  last_names: Iusto maxime eaque.
                                  remaining_names: Consectetur quia.
                                - email: neva_dubuque@beier.net
                                  first_name: Voluptatem omnis rerum quasi qui quod ut.
                                  last_names: Iusto maxime eaque.
                                  remaining_names: Consectetur quia.
                                - email: neva_dubuque@beier.net
                                  first_name: Voluptatem omnis rerum quasi qui quod ut.
                                  last_names: Iusto maxime eaque.
                                  remaining_names: Consectetur quia.
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /google/callback:
        get:
            tags:
                - Auth
            summary: GoogleCallback Auth
            description: Google OAuth callback. Creates or reuses a session and redirects to the frontend.
            operationId: Auth#GoogleCallback
            responses:
                "307":
                    description: Temporary Redirect response.
                "401":
                    description: Unauthorized response.
components:
    schemas:
        AccountUser:
            type: object
            properties:
                attendeeGroupName:
                    type: string
                    description: User attendee group name
                    example: Est officia est in eos.
                attendeeGroupPriority:
                    type: string
                    description: User attendee group priority
                    example: Accusantium qui accusantium.
                email:
                    type: string
                    description: User email
                    example: Aliquam est occaecati omnis et aut.
                firstName:
                    type: string
                    description: User first name
                    example: Dolorem fuga perferendis voluptatum et consectetur eos.
                id:
                    type: string
                    description: Unique user ID
                    example: Enim dolores earum repellendus eaque.
                lastNames:
                    type: string
                    description: User last names
                    example: Temporibus voluptas a.
                remainingNames:
                    type: string
                    description: User remaining names
                    example: Est magni architecto ea.
            description: AccountUser type
            example:
                attendeeGroupName: Voluptas itaque iure minus reprehenderit voluptas.
                attendeeGroupPriority: Eius illo dolores possimus eaque voluptatum odio.
                email: Magni ducimus ea iste.
                firstName: Soluta iste consequuntur minus voluptate qui enim.
                id: Dolorem magnam.
                lastNames: Et aut pariatur similique dolor nisi ut.
                remainingNames: Et est autem magni id laborum.
            required:
                - id
                - email
                - firstName
                - lastNames
                - remainingNames
                - attendeeGroupName
                - attendeeGroupPriority
        Course:
            type: object
            properties:
                cicle_number:
                    type: integer
                    description: Cicle number of the course
                    example: 1
                    format: int64
                    minimum: 1
                credits:
                    type: integer
                    description: Number of credits for the course
                    example: 3
                    format: int64
                    minimum: 1
                id:
                    type: string
                    description: Unique identifier for the course
                    example: "144"
                name:
                    type: string
                    description: Name of the course
                    example: Introduction to Programming
                    minLength: 1
                    maxLength: 128
            description: Course represents a course in the system
            example:
                cicle_number: 1
                credits: 3
                id: "144"
                name: Introduction to Programming
            required:
                - id
                - name
                - credits
                - cicle_number
        CoursePayload:
            type: object
            properties:
                cicle_number:
                    type: integer
                    description: Cicle number of the course
                    example: 1
                    format: int64
                    minimum: 1
                credits:
                    type: integer
                    description: Number of credits for the course
                    example: 3
                    format: int64
                    minimum: 1
                name:
                    type: string
                    description: Name of the course
                    example: Introduction to Programming
                    minLength: 1
                    maxLength: 128
            description: Payload for uploading a single course
            example:
                cicle_number: 1
                credits: 3
                name: Introduction to Programming
            required:
                - name
                - credits
                - cicle_number
        DeleteEnrollmentPayload:
            type: object
            properties:
                attendee_id:
                    type: integer
                    description: Attendee ID
                    example: 869492797
                    format: int32
                course_id:
                    type: integer
                    description: Course ID
                    example: 675438407
                    format: int32
            description: Input data to delete an enrollment
            example:
                attendee_id: 480850972
                course_id: 680543881
            required:
                - attendee_id
                - course_id
        EnrolledUser:
            type: object
            properties:
                email:
                    type: string
                    description: Email address
                    example: maurice.feeney@heathcote.info
                    format: email
                first_name:
                    type: string
                    description: First name of the user
                    example: Et et maxime voluptatem ab libero.
                last_names:
                    type: string
                    description: Last names of the user
                    example: Eligendi occaecati quod consequatur beatae voluptas.
                remaining_names:
                    type: string
                    description: Remaining names (middle names) of the user
                    example: Voluptatem minus similique eos.
            description: Details of a user enrolled in a course
            example:
                email: raymundo_fritsch@schroeder.net
                first_name: Omnis magni sit earum occaecati sit.
                last_names: Aut tenetur id et aliquid eum.
                remaining_names: Vero voluptas.
            required:
                - first_name
                - last_names
                - email
        EnrollmentPayload:
            type: object
            properties:
                attendee_id:
                    type: integer
                    description: Attendee ID
                    example: 651227573
                    format: int32
                course_id:
                    type: integer
                    description: Course ID
                    example: 399508035
                    format: int32
                passed:
                    type: boolean
                    description: Whether the attendee passed the course
                    example: false
            description: Input data to enroll an attendee in a course
            example:
                attendee_id: 1395619466
                course_id: 1576891121
                passed: true
            required:
                - attendee_id
                - course_id
                - passed
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: false
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: false
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: true
            description: Invalid request
            example:
                fault: false
                id: 123abc
                message: parameter 'p' must be an integer
                name: bad_request
                temporary: false
                timeout: false
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        GetAllCoursesRequestBody:
            type: object
            properties:
                limit:
                    type: integer
                    description: Number of items per page
                    default: 10
                    example: 2648247019636092388
                    format: int64
                    minimum: 1
                page:
                    type: integer
                    description: Page number for pagination
                    default: 1
                    example: 6031043969269785759
                    format: int64
                    minimum: 1
            example:
                limit: 3003480818418308337
                page: 710179025609226981
            required:
                - page
                - limit
        UpdateEnrollmentPayload:
            type: object
            properties:
                attendee_id:
                    type: integer
                    description: Attendee ID
                    example: 1007992458
                    format: int32
                course_id:
                    type: integer
                    description: Course ID
                    example: 966961404
                    format: int32
                passed:
                    type: boolean
                    description: New passed status
                    example: true
            description: Input data to update the enrollment status
            example:
                attendee_id: 220373802
                course_id: 1845159246
                passed: false
            required:
                - attendee_id
                - course_id
                - passed
        UploadAllCoursesPayload:
            type: object
            properties:
                courses:
                    type: array
                    items:
                        $ref: '#/components/schemas/CoursePayload'
                    example:
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
            description: Payload for uploading all courses
            example:
                courses:
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
            required:
                - courses
tags:
    - name: course
      description: Manage the courses to enrollements
    - name: enrollment
      description: Manages attendee enrollment in courses
    - name: Auth
      description: Service to handle authentication and authorization
