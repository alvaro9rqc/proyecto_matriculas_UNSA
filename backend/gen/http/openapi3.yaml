openapi: 3.0.3
info:
    title: Goa API
    version: 0.0.1
servers:
    - url: http://localhost:80
      description: Default server for course
paths:
    /auth/callback/{provider}:
        get:
            tags:
                - oauth
            summary: callback oauth
            description: Handle OAuth callback and authenticate user
            operationId: oauth#callback
            parameters:
                - name: code
                  in: query
                  description: Authorization code
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: Authorization code
                    example: ix
                    minLength: 1
                  example: pi3
                - name: state
                  in: query
                  description: Anti-CSRF state token
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: Anti-CSRF state token
                    example: lye
                    minLength: 10
                  example: 46n
                - name: ip_address
                  in: query
                  description: Client IP address
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: Client IP address
                    example: 91.195.193.25
                    format: ip
                  example: 238.150.222.79
                - name: user_agent
                  in: query
                  description: User-Agent header value
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: User-Agent header value
                    example: Consectetur illo non porro sunt.
                  example: Quibusdam voluptatem veritatis qui error.
                - name: provider
                  in: path
                  description: OAuth provider name
                  required: true
                  schema:
                    type: string
                    description: OAuth provider options
                    example: google
                    enum:
                        - google
                        - microsoft
                  example: google
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LoginResult'
                            example:
                                access_token: Nemo sed et eveniet.
                                expires_at: "2007-04-17T04:44:18Z"
                "400":
                    description: 'invalid_token: Invalid or expired OAuth token'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "500":
                    description: 'server_error: Internal server error'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /auth/logout:
        post:
            tags:
                - oauth
            summary: logout oauth
            description: Terminate the current session and invalidate the token
            operationId: oauth#logout
            responses:
                "204":
                    description: No Content response.
                "401":
                    description: 'unauthorized: Missing or invalid token'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /auth/me:
        get:
            tags:
                - oauth
            summary: me oauth
            description: Returns the authenticated user's information
            operationId: oauth#me
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AccountUser'
                            example:
                                email: Excepturi exercitationem maiores maxime omnis aut.
                                firstName: Accusamus odio.
                                id: Sunt aut vitae nihil autem sunt.
                                lastNames: Quisquam itaque.
                                remainingNames: Magnam in quod beatae id.
                "401":
                    description: 'unauthorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /auth/redirect/{provider}:
        get:
            tags:
                - oauth
            summary: redirect oauth
            description: Generate a redirection URL for the chosen OAuth provider
            operationId: oauth#redirect
            parameters:
                - name: provider
                  in: path
                  description: OAuth provider name
                  required: true
                  schema:
                    type: string
                    description: OAuth provider options
                    example: google
                    enum:
                        - google
                        - microsoft
                  example: google
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/OAuthRedirectResult'
                            example:
                                redirect_url: https://accounts.google.com/o/oauth2/auth?...code
                "400":
                    description: 'invalid_provider: Unsupported OAuth provider'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /courses:
        get:
            tags:
                - course
            summary: get_all_courses course
            description: Get all courses, only admin can use this method
            operationId: course#get_all_courses
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/GetAllCoursesRequestBody'
                        example:
                            limit: 8911149612749746103
                            page: 916775543018707264
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Course'
                                example:
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                            example:
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /courses/available:
        get:
            tags:
                - course
            summary: get_user_available_courses course
            description: Get all courses available for the user, only user can use this method
            operationId: course#get_user_available_courses
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Course'
                                example:
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                                    - cicle_number: 1
                                      credits: 3
                                      id: "144"
                                      name: Introduction to Programming
                            example:
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  id: "144"
                                  name: Introduction to Programming
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /courses/upload:
        post:
            tags:
                - course
            summary: upload_all_courses course
            description: Upload all courses from data of file, only admin can use this method
            operationId: course#upload_all_courses
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UploadAllCoursesPayload'
                        example:
                            courses:
                                - cicle_number: 1
                                  credits: 3
                                  name: Introduction to Programming
                                - cicle_number: 1
                                  credits: 3
                                  name: Introduction to Programming
            responses:
                "201":
                    description: Created response.
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /enrollment/enroll:
        post:
            tags:
                - enrollment
            summary: enroll enrollment
            description: Enroll an student in selected courses
            operationId: enrollment#enroll
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/EnrollmentPayload'
                        example:
                            enrollCourses:
                                - course_id: 1368988241
                                  id: 1845633047
                                  program_id: 694091412
                                - course_id: 1368988241
                                  id: 1845633047
                                  program_id: 694091412
                                - course_id: 1368988241
                                  id: 1845633047
                                  program_id: 694091412
                                - course_id: 1368988241
                                  id: 1845633047
                                  program_id: 694091412
            responses:
                "201":
                    description: Created response.
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /enrollment/enrollement_courses:
        post:
            tags:
                - enrollment
            summary: get_enrollment_courses enrollment
            description: Get all courses enrolled by an attendee
            operationId: enrollment#get_enrollment_courses
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnrollmentPayload'
                            example:
                                enrollCourses:
                                    - course_id: 194235674
                                      id: 24969578
                                      program_id: 2129833131
                                    - course_id: 194235674
                                      id: 24969578
                                      program_id: 2129833131
                                    - course_id: 194235674
                                      id: 24969578
                                      program_id: 2129833131
                                    - course_id: 194235674
                                      id: 24969578
                                      program_id: 2129833131
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /queue/enqueue:
        post:
            tags:
                - queue
            summary: enqueue queue
            description: Enqueue a student to the queue
            operationId: queue#enqueue
            responses:
                "201":
                    description: Created response.
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /queue/enqueue_suscribe:
        get:
            tags:
                - queue
            summary: enqueue_suscribe queue
            description: Suscribe a student to queue in real time
            operationId: queue#enqueue_suscribe
            responses:
                "101":
                    description: Switching Protocols response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnqueueSuscribeResponseBody'
                            example:
                                position: 1253547821
                                status: Saepe asperiores autem nisi.
                                total: 1009039078
                "400":
                    description: 'bad_request: Invalid request'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'un_authorized: Unauthorized access'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
components:
    schemas:
        AccountUser:
            type: object
            properties:
                email:
                    type: string
                    description: User email
                    example: Incidunt delectus sed voluptatem.
                firstName:
                    type: string
                    description: User first name
                    example: Ut blanditiis non sint vitae non in.
                id:
                    type: string
                    description: Unique user ID
                    example: Quaerat sapiente sed et sit nisi consequatur.
                lastNames:
                    type: string
                    description: User last names
                    example: Itaque quibusdam aut.
                remainingNames:
                    type: string
                    description: User remaining names
                    example: Beatae deleniti dicta ut amet.
            description: AccountUser type
            example:
                email: Ratione ab pariatur.
                firstName: Recusandae minima voluptatem.
                id: Repellat ut et quibusdam voluptas.
                lastNames: Dolorum vero.
                remainingNames: Molestiae molestiae ex reiciendis placeat laboriosam.
            required:
                - id
                - email
                - firstName
                - lastNames
                - remainingNames
        Course:
            type: object
            properties:
                cicle_number:
                    type: integer
                    description: Cicle number of the course
                    example: 1
                    format: int64
                    minimum: 1
                credits:
                    type: integer
                    description: Number of credits for the course
                    example: 3
                    format: int64
                    minimum: 1
                id:
                    type: string
                    description: Unique identifier for the course
                    example: "144"
                name:
                    type: string
                    description: Name of the course
                    example: Introduction to Programming
                    minLength: 1
                    maxLength: 128
            description: Course represents a course in the system
            example:
                cicle_number: 1
                credits: 3
                id: "144"
                name: Introduction to Programming
            required:
                - id
                - name
                - credits
                - cicle_number
        CoursePayload:
            type: object
            properties:
                cicle_number:
                    type: integer
                    description: Cicle number of the course
                    example: 1
                    format: int64
                    minimum: 1
                credits:
                    type: integer
                    description: Number of credits for the course
                    example: 3
                    format: int64
                    minimum: 1
                name:
                    type: string
                    description: Name of the course
                    example: Introduction to Programming
                    minLength: 1
                    maxLength: 128
            description: Payload for uploading a single course
            example:
                cicle_number: 1
                credits: 3
                name: Introduction to Programming
            required:
                - name
                - credits
                - cicle_number
        EnqueueSuscribeResponseBody:
            type: object
            properties:
                position:
                    type: integer
                    description: Position in the queue
                    example: 50322932
                    format: int32
                status:
                    type: string
                    description: Status of the queue
                    example: Quasi dignissimos cupiditate.
                total:
                    type: integer
                    description: Total number of students in the queue
                    example: 1702022391
                    format: int32
            example:
                position: 1429607488
                status: Quis voluptatum.
                total: 1303485375
        EnrollCourseType:
            type: object
            properties:
                course_id:
                    type: integer
                    description: Course ID
                    example: 803936825
                    format: int32
                id:
                    type: integer
                    description: Enrollment ID
                    example: 474045137
                    format: int32
                program_id:
                    type: integer
                    description: Program ID
                    example: 555219903
                    format: int32
            description: Represents a course enrollment
            example:
                course_id: 43399824
                id: 1981101831
                program_id: 1235666190
            required:
                - id
                - course_id
                - program_id
        EnrollmentPayload:
            type: object
            properties:
                enrollCourses:
                    type: array
                    items:
                        $ref: '#/components/schemas/EnrollCourseType'
                    description: Attendee ID
                    example:
                        - course_id: 1370333918
                          id: 1876751260
                          program_id: 1801666353
                        - course_id: 1370333918
                          id: 1876751260
                          program_id: 1801666353
            description: Input data to enroll an attendee in a courses
            example:
                enrollCourses:
                    - course_id: 1370333918
                      id: 1876751260
                      program_id: 1801666353
                    - course_id: 1370333918
                      id: 1876751260
                      program_id: 1801666353
                    - course_id: 1370333918
                      id: 1876751260
                      program_id: 1801666353
            required:
                - enrollCourses
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: true
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: true
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: true
            description: Invalid request
            example:
                fault: false
                id: 123abc
                message: parameter 'p' must be an integer
                name: bad_request
                temporary: true
                timeout: false
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        EventCourse:
            type: object
            properties:
                end_date:
                    type: integer
                    description: End date of the course in the event in Unix timestamp format
                    example: 1748992994154
                    format: int64
                id:
                    type: string
                    description: Unique identifier for the event course
                    example: "144"
                instalation:
                    $ref: '#/components/schemas/InstalatitonCoursePayload'
                start_date:
                    type: integer
                    description: Start date of the course in the event in Unix timestamp format
                    example: 1748992994154
                    format: int64
            description: Is the schedule of the course in the event
            example:
                end_date: 1748992994154
                id: "144"
                instalation:
                    description: This course is in Sistem Ingenier School
                    name: Sistem Ingenier School
                start_date: 1748992994154
            required:
                - id
                - start_date
                - end_date
                - instalation
        EventCoursePayload:
            type: object
            properties:
                end_date:
                    type: integer
                    description: End date of the course in the event in Unix timestamp format
                    example: 1748992994154
                    format: int64
                instalation:
                    $ref: '#/components/schemas/InstalatitonCoursePayload'
                start_date:
                    type: integer
                    description: Start date of the course in the event in Unix timestamp format
                    example: 1748992994154
                    format: int64
            description: Is the schedule of the course in the event
            example:
                end_date: 1748992994154
                instalation:
                    description: This course is in Sistem Ingenier School
                    name: Sistem Ingenier School
                start_date: 1748992994154
            required:
                - start_date
                - end_date
                - instalation
        GetAllCoursesRequestBody:
            type: object
            properties:
                limit:
                    type: integer
                    description: Number of items per page
                    default: 10
                    example: 5913483738202294474
                    format: int64
                    minimum: 1
                page:
                    type: integer
                    description: Page number for pagination
                    default: 1
                    example: 5537963132424655045
                    format: int64
                    minimum: 1
            example:
                limit: 3428109710289768824
                page: 3532711282014118866
            required:
                - page
                - limit
        InstalatitonCourse:
            type: object
            properties:
                description:
                    type: string
                    description: Description of the instalation of course
                    example: This course is in Sistem Ingenier School
                    minLength: 1
                    maxLength: 512
                id:
                    type: integer
                    description: Unique identifier for the installation of the course
                    example: 144
                    format: int64
                name:
                    type: string
                    description: Name of the place where the course is installed
                    example: Sistem Ingenier School
                    minLength: 1
                    maxLength: 128
            description: Represents a course in the installation process
            example:
                description: This course is in Sistem Ingenier School
                id: 144
                name: Sistem Ingenier School
            required:
                - id
                - name
                - description
        InstalatitonCoursePayload:
            type: object
            properties:
                description:
                    type: string
                    description: Description of the instalation of course
                    example: This course is in Sistem Ingenier School
                    minLength: 1
                    maxLength: 512
                name:
                    type: string
                    description: Name of the place where the course is installed
                    example: Sistem Ingenier School
                    minLength: 1
                    maxLength: 128
            description: Represents a course in the installation process
            example:
                description: This course is in Sistem Ingenier School
                name: Sistem Ingenier School
            required:
                - name
                - description
        LoginResult:
            type: object
            properties:
                access_token:
                    type: string
                    description: Session access token
                    example: Doloribus ea cupiditate voluptate autem sed.
                expires_at:
                    type: string
                    description: Access token expiration timestamp
                    example: "1977-01-27T13:45:03Z"
                    format: date-time
            description: Successful login result containing access token
            example:
                access_token: Eos ut temporibus voluptas a quae est.
                expires_at: "1981-01-27T17:10:26Z"
            required:
                - access_token
                - expires_at
        OAuthRedirectResult:
            type: object
            properties:
                redirect_url:
                    type: string
                    description: OAuth authorization URL
                    example: https://accounts.google.com/o/oauth2/auth?...code
                    format: uri
            description: Redirect URL for initiating OAuth login
            example:
                redirect_url: https://accounts.google.com/o/oauth2/auth?...code
            required:
                - redirect_url
        SpeakerCoursePayload:
            type: object
            properties:
                email:
                    type: string
                    description: User email
                    example: Molestiae eaque eum.
                firstName:
                    type: string
                    description: User first name
                    example: Dolor qui cumque.
                id:
                    type: string
                    description: Unique user ID
                    example: Veritatis repellendus laborum doloribus minus deserunt nesciunt.
                lastNames:
                    type: string
                    description: User last names
                    example: Laboriosam optio fuga et vitae odit quidem.
                remainingNames:
                    type: string
                    description: User remaining names
                    example: Consequuntur eaque nisi beatae et nobis.
            example:
                email: Non a.
                firstName: Veniam laboriosam rerum.
                id: Optio aliquam.
                lastNames: Animi dolorem mollitia earum dolor sunt distinctio.
                remainingNames: Ipsam ipsam rerum quia magni.
            required:
                - id
                - email
                - firstName
                - lastNames
                - remainingNames
        TuitionCourse:
            type: object
            properties:
                events:
                    type: array
                    items:
                        $ref: '#/components/schemas/EventCoursePayload'
                    example:
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                id:
                    type: string
                    description: Unique identifier for the tuition course
                    example: "144"
                taken_places:
                    type: integer
                    description: Number of places already taken in the course
                    example: 10
                    format: int64
                    minimum: 0
                total_places:
                    type: integer
                    description: Total number of places available for the course
                    example: 30
                    format: int64
                    minimum: 1
            description: Tuition details of the course
            example:
                events:
                    - end_date: 1748992994154
                      instalation:
                        description: This course is in Sistem Ingenier School
                        name: Sistem Ingenier School
                      start_date: 1748992994154
                    - end_date: 1748992994154
                      instalation:
                        description: This course is in Sistem Ingenier School
                        name: Sistem Ingenier School
                      start_date: 1748992994154
                    - end_date: 1748992994154
                      instalation:
                        description: This course is in Sistem Ingenier School
                        name: Sistem Ingenier School
                      start_date: 1748992994154
                id: "144"
                taken_places: 10
                total_places: 30
            required:
                - id
                - tuition
                - currency
        TuitionCoursePayload:
            type: object
            properties:
                events:
                    type: array
                    items:
                        $ref: '#/components/schemas/EventCoursePayload'
                    example:
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                        - end_date: 1748992994154
                          instalation:
                            description: This course is in Sistem Ingenier School
                            name: Sistem Ingenier School
                          start_date: 1748992994154
                taken_places:
                    type: integer
                    description: Number of places already taken in the course
                    example: 10
                    format: int64
                    minimum: 0
                total_places:
                    type: integer
                    description: Total number of places available for the course
                    example: 30
                    format: int64
                    minimum: 1
            description: Tuition details of the course
            example:
                events:
                    - end_date: 1748992994154
                      instalation:
                        description: This course is in Sistem Ingenier School
                        name: Sistem Ingenier School
                      start_date: 1748992994154
                    - end_date: 1748992994154
                      instalation:
                        description: This course is in Sistem Ingenier School
                        name: Sistem Ingenier School
                      start_date: 1748992994154
                taken_places: 10
                total_places: 30
            required:
                - tuition
                - currency
        UploadAllCoursesPayload:
            type: object
            properties:
                courses:
                    type: array
                    items:
                        $ref: '#/components/schemas/CoursePayload'
                    example:
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
                        - cicle_number: 1
                          credits: 3
                          name: Introduction to Programming
            description: Payload for uploading all courses
            example:
                courses:
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
                    - cicle_number: 1
                      credits: 3
                      name: Introduction to Programming
            required:
                - courses
tags:
    - name: course
      description: Manage the courses to enrollements
    - name: enrollment
      description: Manages attendee enrollment in courses
    - name: queue
      description: Manage the queue of courses and enrollments
    - name: oauth
      description: OAuth-based authentication service for Google and Microsoft
