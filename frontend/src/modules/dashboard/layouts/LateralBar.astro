---
import { routesConfig } from '@/modules/core/config/routes';
import { capitalize } from '@/modules/core/lib/utils';

const currentPath = Astro.url.pathname;
---

<aside class="w-full max-w-2xs px-4 py-10 sticky top-0 bg-background gap-6 flex flex-col">
  <div class="min-h-12">
    <div class="flex items-start gap-3 px-3">
      <button class="rounded-full aspect-square bg-zinc-300 w-9">
        <span class="sr-only">Personal photo</span>
        <img
          class="w-full h-full object-cover rounded-full"
          src={user.photo}
          alt="User profile"
        />
      </button>
      <div class="flex flex-col gap-1">
        <span class="font-medium">{user.name}</span>
        <span class="text-sm">{capitalize(user.role)}</span>
      </div>
    </div>
  </div>
  <nav class="flex flex-col gap-1" transition:name="lateralnav">
    {routesConfig.teacherRoutes.map((item) => (
      <a href={item.path} class="group flex items-center gap-2 px-6 py-3 hover:bg-secondary rounded-full transition-colors duration-75">
        {
          currentPath === item.path
            ? <item.iconSelect size={24} />
            : <item.icon size={24} />
        }
        <span>{item.name}</span>
      </a>
    ))}
  </nav>
</aside>
